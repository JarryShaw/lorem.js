{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/os-browserify/browser.js","ts/lorem.ts","ts/random.ts","ts/types.ts"],"names":[],"mappings":"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","file":"lorem.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","/// <reference path=\"../ts/lorem.d.ts\" />\n\n/**\n * Lorem ipsum generator.\n *\n * In publishing and graphic design, lorem ipsum is a placeholder text commonly\n * used to demonstrate the visual form of a document or a typeface without\n * relying on meaningful content.\n *\n * The `lorem` module provides a generic access to generating the lorem ipsum text\n * from its very original text:\n *\n *     Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\n *     tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim\n *     veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea\n *     commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit\n *     esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat\n *     cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id\n *     est laborum.\n *\n * Usage of the `lorem` module is rather simple. Depending on your needs, the\n * `lorem` module provides generation of **word**s, **sentence**s, and\n * **paragraph**s.\n *\n * Get Random Words\n * ----------------\n *\n * The `lorem` module provides two different ways for getting random words.\n *\n * 1. `word` -- generate a list of random words\n *\n *    ```javascript\n *    function word<T extends string | StringFunction>(\n *        count?: number | undefined,\n *        func?: (T extends string ? string : StringFunction) | undefined,\n *        args?: any[] | undefined\n *    ): InfiniteIterator<string>\n *    ```\n *\n * 2. `get_word` -- return random words\n *\n *    ```javascript\n *    function get_word<K extends number | [number, number],\n *                      T extends string | StringFunction>(\n *        count?: (K extends number ? number : [number, number]) | undefined,\n *        sep?: string | undefined,\n *        func?: (T extends string ? string : StringFunction) | undefined,\n *        args?: any[] | undefined\n *    ): string\n *    ```\n *\n * Get Random Sentences\n * --------------------\n *\n * The `lorem` module provides two different ways for getting random sentences.\n *\n * 1. `sentence` -- generate a list of random sentences\n *\n *    ```javascript\n *    function sentence(\n *        count?: number | undefined,\n *        comma?: [number, number] | undefined,\n *        word_range?: [number, number] | undefined\n *    ): InfiniteIterator<string>\n *    ```\n *\n * 2. `get_sentence` -- return random sentences\n *\n *    ```javascript\n *    function get_sentence<K extends number | [number, number]>(\n *        count?: (K extends number ? number : [number, number]) | undefined,\n *        sep?: string | undefined,\n *        comma?: [number, number] | undefined,\n *        word_range?: [number, number] | undefined\n *    ): string\n *    ```\n *\n * Get Random Paragraphs\n * ---------------------\n *\n * The `lorem` module provides two different ways for getting random paragraphs.\n *\n * 1. `paragraph` -- generate a list of random paragraphs\n *\n *    ```javascript\n *    function paragraph(\n *        count?: number | undefined,\n *        comma?: [number, number] | undefined,\n *        word_range?: [number, number] | undefined,\n *        sentence_range?: [number, number] | undefined\n *    ): InfiniteIterator<string>\n *    ```\n *\n * 2. `get_paragraph` -- return random paragraphs\n *\n *    ```javascript\n *    function get_paragraph<K extends number | [number, number]>(\n *        count?: (K extends number ? number : [number, number]) | undefined,\n *        sep?: string | undefined,\n *        comma?: [number, number] | undefined,\n *        word_range?: [number, number] | undefined,\n *        sentence_range?: [...] | undefined\n *    ): string\n *    ```\n *\n * Customise Word Pool\n * -------------------\n *\n * If wanted, the `lorem` module also provides an interface to customise the word\n * pool as you wish.\n *\n * 1. `set_pool` -- customise random word pool\n *\n *    ```javascript\n *    function set_pool(pool: string[]): void\n *    ```\n *\n * @module lorem\n */\n\n'use strict';\n\nimport { EOL } from 'os';\nimport * as random from './random';\nimport { InfiniteIterator } from \"./types\";\n\n/** Original lorem ipsum text pool. */\nlet _TEXT: string[] = [\n    'ad', 'adipiscing', 'aliqua', 'aliquip', 'amet', 'anim', 'aute', 'cillum', 'commodo',\n    'consectetur', 'consequat', 'culpa', 'cupidatat', 'deserunt', 'do', 'dolor', 'dolore',\n    'duis', 'ea', 'eiusmod', 'elit', 'enim', 'esse', 'est', 'et', 'eu', 'ex', 'excepteur',\n    'exercitation', 'fugiat', 'id', 'in', 'incididunt', 'ipsum', 'irure', 'labore', 'laboris',\n    'laborum', 'lorem', 'magna', 'minim', 'mollit', 'nisi', 'non', 'nostrud', 'nulla',\n    'occaecat', 'officia', 'pariatur', 'proident', 'qui', 'quis', 'reprehenderit', 'sed',\n    'sint', 'sit', 'sunt', 'tempor', 'ullamco', 'ut', 'velit', 'veniam', 'voluptate'\n]\n\n/**\n * Generate word pool.\n *\n * - Args:\n *\n *   * `dupe` -- `number`\n *\n *     Duplication to generate the word pool.\n *\n *     *default*: `1`\n *\n * - Returns\n *\n *   * `StringIterator` -- an infinite loop word pool\n *\n * @param {number} [dupe]\n * @returns {StringIterator}\n */\nfunction _gen_pool(dupe: number = 1): StringIterator {\n    var pool: string[] = [];\n\n    for (var i = 0; i < dupe; i++) {\n        pool.push(..._TEXT);\n    }\n    random.shuffle(pool);\n\n    return new InfiniteIterator(pool);\n}\n\n/**\n * Generate random word.\n *\n * - Args:\n *\n *   * `pool` -- `StringIterator`\n *\n *     Word pool, returned by `_gen_pool`.\n *\n *   * `func` -- `T extends string ? string : StringFunction`\n *\n *     Filter function. It can be an attribute name of `String`, or a customised\n *     function that takes the original `String` and returns the modified `String`.\n *\n *     *default*: `undefined`\n *\n *   * `args` -- `any[]`\n *\n *     Additional arguments for `func`.\n *\n *     *default*: `[]`\n *\n * - Returns:\n *\n *   * `string` -- random word\n *\n * @template T\n * @param {StringIterator} pool\n * @param {T extends string ? string : StringFunction} [func]\n * @param {any[]} [args]\n * @returns {string}\n */\nfunction _gen_word(\n    pool: StringIterator,\n    func?: string | StringFunction,\n    args: any[] = []\n): string {\n    var text = pool.next().value;\n    if (func !== undefined)\n        if (typeof func === \"string\")\n            text = text[func](...args);\n        else\n            text = func(text, ...args);\n    return text;\n}\n\n/**\n * Generate random sentence.\n *\n * - Args:\n *\n *   * `pool` -- `StringIterator`\n *\n *     Word pool, returned by `_gen_pool`.\n *\n *   * `comma` -- `[number, number]`\n *\n *     Random range for number of commas. The function will use\n *     `random.randint` to choose a random integer as the number of commas.\n *\n *     *default*: `[0, 2]`\n *\n *   * `word_range` -- `[number, number]`\n *\n *     Random range for number of words in each sentence. The function will\n *     use `random.randint` to choose a random integer as the number of words.\n *\n *     *default*: `[4, 8]`\n *\n * - Returns:\n *\n *   * `string` -- random sentence\n *\n * @param {StringIterator} pool\n * @param {NumberTuple} comma\n * @param {NumberTuple} word_range\n * @returns {string}\n */\nfunction _gen_sentence(\n    pool: StringIterator,\n    comma: [number, number],\n    word_range: [number, number]\n): string {\n    var text = _gen_word(pool, 'capitalize');\n    for (var i = 0; i < random.randint(...word_range) - 1; i++)\n        text += ' ' + _gen_word(pool);\n\n    var include_comma: boolean;\n    for (var i = 0; i < random.randint(...comma); i++) {\n        include_comma = random.choice([true, false]);\n        if (include_comma) {\n            text += ','\n            for (var i = 0; i < random.randint(...word_range) - 1; i++)\n                text += ' ' + _gen_word(pool);\n            continue\n        }\n        break\n    }\n    return text + '.';\n}\n\n/**\n * Generate random paragraph.\n *\n * - Args:\n *\n *   * `pool` -- `StringIterator`\n *\n *     Word pool, returned by `_gen_pool`.\n *\n *   * `comma` -- `[number, number]`\n *\n *     Random range for number of commas. The function will use\n *     `random.randint` to choose a random integer as the number of commas.\n *\n *     *default*: `[0, 2]`\n *\n *   * `word_range` -- `[number, number]`\n *\n *     Random range for number of words in each sentence. The function will\n *     use `random.randint` to choose a random integer as the number of words.\n *\n *     *default*: `[4, 8]`\n *\n *   * `sentence_range` -- `[number, number]`\n *\n *     Random range for number of sentences in each paragraph. The function\n *     will use `random.randint` to choose a random integer as the number of\n *     sentences.\n *\n *     *default*: `[5, 1])`\n *\n * - Returns:\n *\n *   * `str` -- random paragraph\n *\n * @param {StringIterator} pool\n * @param {NumberTuple} comma\n * @param {NumberTuple} word_range\n * @param {NumberTuple} sentence_range\n * @returns {string}\n */\nfunction _gen_paragraph(\n    pool: StringIterator,\n    comma: [number, number],\n    word_range: [number, number],\n    sentence_range: [number, number]\n): string {\n    var text = _gen_sentence(pool, comma, word_range);\n    for (var i = 0; i < random.randint(...sentence_range) - 1; i++)\n        text += ' ' + _gen_sentence(pool, comma, word_range);\n    return text;\n}\n\n/**\n * Generate a list of random words.\n *\n * ```javascript\n * > word(3)\n * InfiniteIterator {\n *   items: [ 'dolore', 'esse', 'duis' ],\n *   pointer: 0,\n *   length: 3\n * }\n * > word(3, 'capitalize')\n * InfiniteIterator {\n *   items: [ 'Ullamco', 'Adipiscing', 'Consectetur' ],\n *   pointer: 0,\n *   length: 3\n * }\n * > word(3, (s) => s.toUpperCase())\n * InfiniteIterator {\n *   items: [ 'QUIS', 'ALIQUA', 'CILLUM' ],\n *   pointer: 0,\n *   length: 3\n * }\n * ```\n *\n * - Args:\n *\n *   * `count` -- `number`\n *\n *     Number of non-repeated random words.\n *\n *     *default*: `1`\n *\n *   * `func` -- `Optional[Union[str, Callable[[str], str]]]`\n *\n *     Filter function. It can be an attribute name of `str`, or a customised\n *     function that takes the original `str` and returns the modified `str`.\n *\n *     *default*: `None`\n *\n *   * `args` -- `Tuple[str]`\n *\n *     Additional positional arguments for `func`.\n *\n *     *default*: `()`\n *\n *   * `kwargs` -- `Dict[str, Any]`\n *\n *     Additional keyword arguments for `func`.\n *\n *     *default*: `{}`\n *\n * - Returns:\n *\n *   * `StringIterator` -- indefinite random words generator\n *\n * @template T\n * @param {number} [count]\n * @param {T extends string ? string : StringFunction} [func]\n * @param {any[]} [args]\n * @returns {StringIterator}\n */\nexport function word(\n    count: number = 1,\n    func?: string | StringFunction,\n    args: any[] = []\n): StringIterator {\n    var pool = _gen_pool(count);\n    var list: string[] = [];\n\n    for (var i = 0; i < count; i++)\n        list.push(_gen_word(pool, func, args));\n    return new InfiniteIterator(list);\n}\n\n/**\n * Generate a list of random sentences.\n *\n * ```javascript\n * > sentence()\n * InfiniteIterator {\n *   items: [ 'Anim quis id et adipiscing nulla.' ],\n *   pointer: 0,\n *   length: 1\n * }\n * ```\n *\n * - Args:\n *\n *   * `count` -- `number`\n *\n *     Number of non-repeated random sentences.\n *\n *     *default*: `1`\n *\n *   * `comma` -- `[number, number]`\n *\n *     Random range for number of commas. The function will use\n *     `random.randint` to choose a random integer as the number of commas.\n *\n *     *default*: `[0, 2]`\n *\n *   * `word_range` -- `[number, number]`\n *\n *     Random range for number of words in each sentence. The function will\n *     use `random.randint` to choose a random integer as the number of words.\n *\n *     *default*: `[4, 8]`\n *\n * - Returns:\n *\n *   * `StringIterator` -- indefinite random sentence generator\n *\n * @param {number} [count]\n * @param {NumberTuple} [comma]\n * @param {NumberTuple} [word_range]\n * @returns {StringIterator}\n */\nexport function sentence(\n    count: number = 1,\n    comma: [number, number] = [0, 2],\n    word_range: [number, number] = [4, 8]\n): StringIterator {\n    var pool = _gen_pool(count);\n    var list: string[] = [];\n\n    for (var i = 0; i < count; i++)\n        list.push(_gen_sentence(pool, comma, word_range));\n    return new InfiniteIterator(list);\n}\n\n/**\n * Generate a list of random paragraphs.\n *\n * ```javascript\n * > paragraph()\n * InfiniteIterator {\n *   items: [\n *     'Tempor minim mollit deserunt do. Eu exercitation et reprehenderit, veniam ad proident. Quis lorem cupidatat sit fugiat. Sed cillum pariatur aute irure magna ea. Commodo voluptate ullamco sint aliqua in, consequat qui officia esse duis.'\n *   ],\n *   pointer: 0,\n *   length: 1\n * }\n * ```\n *\n * - Args:\n *\n *   * `count` -- `int`\n *\n *     Number of non-repeated random paragraphs.\n *\n *     *default*: `1`\n *\n *   * `comma` -- `[number, number]`\n *\n *     Random range for number of commas. The function will use\n *     `random.randint` to choose a random integer as the number of commas.\n *\n *     *default*: `[0, 2]`\n *\n *   * `word_range` -- `[number, number]`\n *\n *     Random range for number of words in each sentence. The function will\n *     use `random.randint` to choose a random integer as the number of words.\n *\n *     *default*: `[4, 8]`\n *\n *   * `sentence_range` -- `[number, number]`\n *\n *     Random range for number of sentences in each paragraph. The function\n *     will use `random.randint` to choose a random integer as the number of\n *     sentences.\n *\n *     *default*: `[5, 10]`\n *\n * - Returns:\n *\n *   * `StringIterator` -- random paragraph generator\n *\n * @param {number} [count]\n * @param {NumberTuple} [comma]\n * @param {NumberTuple} [word_range]\n * @param {NumberTuple} [sentence_range]\n * @returns {StringIterator}\n */\nexport function paragraph(\n    count: number = 1,\n    comma: [number, number] = [0, 2],\n    word_range: [number, number] = [4, 8],\n    sentence_range: [number, number] = [5, 10]\n): StringIterator {\n    var pool = _gen_pool(count);\n    var list: string[] = [];\n\n    for (var i = 0; i < count; i++)\n        list.push(_gen_paragraph(pool, comma, word_range, sentence_range));\n    return new InfiniteIterator(list);\n}\n\n/**\n * Return random words.\n *\n * ```javascript\n * > lorem.get_word(3)\n * 'veniam minim sit'\n * > lorem.get_word(3, ' ', 'capitalize')\n * 'In Nulla Enim'\n * > lorem.get_word(3, '-', (s) => s.toUpperCase())\n * 'OCCAECAT-DOLOR-SINT'\n * ```\n *\n * - Args:\n *\n *   * `count` -- `number | [number, number]`\n *\n *     Number of random words. To generate random number of words, supply a\n *     2-element tuple of `number`, the function will use `random.randint` to choose\n *     a random integer as the number of random words.\n *\n *     *default*: `1`\n *\n *   * `sep` -- `string`\n *\n *     Seperator between each word.\n *\n *     *default*: `' '`\n *\n *   * `func` -- `string | StringFunction`\n *\n *     Filter function. It can be a function name of `string`, or a customised\n *     function that takes the original `string` and returns the modified `string`.\n *\n *     *default*: `undefined`\n *\n *   * `args` -- `any[]`\n *\n *     Additional arguments for `func`.\n *\n *     *default*: `[]`\n *\n * - Returns:\n *\n *   * `string` -- random words\n *\n * @template K\n * @template T\n * @param {K extends number ? number : NumberTuple} [count]\n * @param {string} [sep]\n * @param {T extends string ? string : StringFunction} [func]\n * @param {any[]} [args]\n * @returns {string}\n */\nexport function get_word(\n    count: number | [number, number] = 1,\n    sep: string = ' ',\n    func?: string | StringFunction,\n    args: any[] = []\n): string {\n    if (typeof count === \"object\")\n        count = random.randint(...count);\n    var iter_list = word(count, func, args);\n\n    var list: string[] = [];\n    for (var i = 0; i < count; i++)\n        list.push(iter_list.next().value);\n    return list.join(sep);\n}\n\n/**\n * Return random sentences.\n *\n * ```javascript\n * > get_sentence()\n * 'Irure adipiscing reprehenderit cupidatat sint.'\n * ```\n *\n * - Args:\n *\n *   * `count` -- `number | [number, number]`\n *\n *     Number of random sentences. To generate random number of sentences,\n *     supply a 2-element tuple of `number`, the function will use\n *     `random.randint` to choose a random integer as the number of random\n *     sentences.\n *\n *     *default*: `1`\n *\n *   * `sep` -- `string`\n *\n *     Seperator between each sentence.\n *\n *     *default*: `' '`\n *\n *   * `comma` -- `[number, number]`\n *\n *     Random range for number of commas. The function will use\n *     `random.randint` to choose a random integer as the number of commas.\n *\n *     *default*: `[0, 2]`\n *\n *   * `word_range` -- `[number, number]`\n *\n *     Random range for number of words in each sentence. The function will\n *     use `random.randint` to choose a random integer as the number of words.\n *\n *     *default*: `[4, 8]`\n *\n * - Returns:\n *\n *   * `string` -- random sentences\n *\n * @template K\n * @param {K extends number ? number : NumberTuple} [count]\n * @param {string} [sep]\n * @param {NumberTuple} [comma]\n * @param {NumberTuple} [word_range]\n * @returns {string}\n */\nexport function get_sentence(\n    count: number | NumberTuple = 1,\n    sep: string = ' ',\n    comma: NumberTuple = [0, 2],\n    word_range: NumberTuple = [4, 8]\n): string {\n    if (typeof count === \"object\")\n        count = random.randint(...count);\n    var iter_list = sentence(count, comma, word_range);\n\n    var list: string[] = [];\n    for (var i = 0; i < count; i++)\n        list.push(iter_list.next().value);\n    return list.join(sep);\n}\n\n/**\n * Return random paragraphs.\n *\n * ```javascript\n * > get_paragraph()\n * 'Est ut nisi consequat reprehenderit elit. Aliquip sed sint excepteur sunt. Cupidatat officia labore lorem ullamco. Minim aute proident quis laborum esse anim, in sit incididunt. Aliqua culpa dolor magna, qui ex eu laboris et. Do id ea cillum veniam. Velit exercitation dolore voluptate tempor.'\n * ```\n *\n * - Args:\n *\n *   * `count` -- `number | [number, number]`\n *\n *     Number of random paragraphs. To generate random number of paragraphs,\n *     supply a 2-element tuple of `number`, the function will use\n *     `random.randint` to choose a random integer as the number of random\n *     paragraphs.\n *\n *     *default*: `1`\n *\n *   * `sep` -- `string`\n *\n *     Seperator between each paragraph.\n *\n *     *default*: `os.EOL` (`\\r\\n` on Windows, `\\n` on POSIX)\n *\n *   * `comma` -- `[number, number]`\n *\n *     Random range for number of commas. The function will use\n *     `random.randint` to choose a random integer as the number of commas.\n *\n *     *default*: `[0, 2]`\n *\n *   * `word_range` -- `[number, number]`\n *\n *     Random range for number of words in each sentence. The function will\n *     use `random.randint` to choose a random integer as the number of words.\n *\n *     *default*: `[4, 8]`\n *\n *   * `sentence_range` -- `[number, number]`\n *\n *     Random range for number of sentences in each paragraph. The function\n *     will use `random.randint` to choose a random integer as the number of\n *     sentences.\n *\n *     *default*: `[5, 10]`\n *\n * - Returns:\n *\n *   * `string` -- random paragraphs\n *\n * @template K\n * @param {K extends number ? number : NumberTuple} [count]\n * @param {string} [sep]\n * @param {NumberTuple} [comma]\n * @param {NumberTuple} [word_range]\n * @param {NumberTuple} [sentence_range]\n * @returns {string}\n */\nexport function get_paragraph(\n    count: number | NumberTuple = 1,\n    sep: string = EOL,\n    comma: NumberTuple = [0, 2],\n    word_range: NumberTuple = [4, 8],\n    sentence_range: NumberTuple = [5, 10]\n): string {\n    if (typeof count === \"object\")\n        count = random.randint(...count);\n    var iter_list = paragraph(count, comma, word_range, sentence_range);\n\n    var list: string[] = [];\n    for (var i = 0; i < count; i++)\n        list.push(iter_list.next().value);\n    return list.join(sep);\n}\n\n/**\n * Customise random word pool.\n *\n * - Args:\n *\n *   * `pool` -- `string[]`\n *\n *     List of words to be used as random word pool.\n *\n * @param {string[]} pool\n */\nexport function set_pool(pool: string[]) {\n    _TEXT = pool;\n}\n","/// <reference path=\"../ts/random.d.ts\" />\n\n/**\n * JavaScript port of some useful functions from Python's\n * builtin `random` module.\n *\n * @module random\n * @see module:lorem\n */\n\n'use strict';\n\n/**\n * Shuffle list x in place, and return None.\n *\n * @template T\n * @param {T[]} x\n */\nexport function shuffle<T>(x: T[]) {\n    var temp: any;\n\n    var j: number;\n    for (var i = x.length - 1; i > 0; i--) {\n        j = Math.floor((Math.random() * (i + 1)));\n\n        temp = x[i];\n        x[i] = x[j];\n        x[j] = temp;\n    }\n}\n\n/**\n * Return random integer in range [a, b], including both end points.\n *\n * @param {number} a\n * @param {number} b\n * @returns {number}\n */\nexport function randint(a: number, b: number) {\n    return Math.floor(Math.random() * (b - a)) + a;\n}\n\n/**\n * Choose a random element from a non-empty sequence.\n *\n * @template T\n * @param {T[]} seq\n * @returns {T}\n */\nexport function choice<T>(seq: T[]) {\n    var i = Math.floor((Math.random() * seq.length));\n    return seq[i];\n}\n","/// <reference path=\"../ts/types.d.ts\" />\n\n/**\n * Customised utility types.\n *\n * @module types\n * @see module:lorem\n */\n\n'use strict';\n\nimport * as random from \"./random\";\n\n/**\n * Return a capitalized version of the string.\n *\n * More specifically, make the first character have upper case and the rest lower\n * case.\n *\n * @param {string} s\n * @returns {string}\n */\nfunction capitalize(s: string): string {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\n/**\n * Return a capitalized version of the string.\n *\n * More specifically, make the first character have upper case and the rest lower\n * case.\n *\n * @returns {string}\n * @memberof String\n */\nString.prototype.capitalize = function () {\n    return capitalize(this.toString());\n};\n\n/**\n * Infinite iterator.\n *\n * @class InfiniteIterator\n * @implements {Iterator<T>}\n * @template T\n */\nexport class InfiniteIterator<T> implements Iterator<T> {\n    private pointer = 0;\n    private length: number;\n\n    /**\n     * Creates an instance of `InfiniteIterator`.\n     *\n     * @param {T[]} items\n     * @memberof InfiniteIterator\n     */\n    constructor(public items: T[]) {\n        this.length = items.length;\n    }\n\n    public next(): IteratorResult<T> {\n        if (this.pointer >= this.length) {\n            this.pointer = 0;\n            random.shuffle(this.items);\n        }\n\n        return {\n            done: false,\n            value: this.items[this.pointer++]\n        };\n    }\n\n    [Symbol.iterator](): Iterator<T> {\n        return this;\n    }\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvb3MtYnJvd3NlcmlmeS9icm93c2VyLmpzIiwidHMvbG9yZW0udHMiLCJ0cy9yYW5kb20udHMiLCJ0cy90eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdUVBLFlBQVksQ0FBQzs7Ozs7Ozs7O0FBRWIseUJBQXlCO0FBQ3pCLGlDQUFtQztBQUNuQyxpQ0FBMkM7QUFHM0MsSUFBSSxLQUFLLEdBQWE7SUFDbEIsSUFBSSxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxTQUFTO0lBQ3BGLGFBQWEsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRO0lBQ3JGLE1BQU0sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxXQUFXO0lBQ3JGLGNBQWMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsU0FBUztJQUN6RixTQUFTLEVBQUUs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LEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUMvQixDQUFDO0lBRU0sK0JBQUksR0FBWDtRQUNJLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQzdCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1lBQ2pCLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzlCO1FBRUQsT0FBTztZQUNILElBQUksRUFBRSxLQUFLO1lBQ1gsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ3BDLENBQUM7SUFDTixDQUFDO0lBRUQsMkJBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFqQjtRQUNJLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDTCx1QkFBQztBQUFELENBN0JBLEFBNkJDLElBQUE7QUE3QlksNENBQWdCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiZXhwb3J0cy5lbmRpYW5uZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0xFJyB9O1xuXG5leHBvcnRzLmhvc3RuYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5ob3N0bmFtZVxuICAgIH1cbiAgICBlbHNlIHJldHVybiAnJztcbn07XG5cbmV4cG9ydHMubG9hZGF2ZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdIH07XG5cbmV4cG9ydHMudXB0aW1lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gMCB9O1xuXG5leHBvcnRzLmZyZWVtZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7XG59O1xuXG5leHBvcnRzLnRvdGFsbWVtID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBOdW1iZXIuTUFYX1ZBTFVFO1xufTtcblxuZXhwb3J0cy5jcHVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW10gfTtcblxuZXhwb3J0cy50eXBlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0Jyb3dzZXInIH07XG5cbmV4cG9ydHMucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5hcHBWZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59O1xuXG5leHBvcnRzLm5ldHdvcmtJbnRlcmZhY2VzXG49IGV4cG9ydHMuZ2V0TmV0d29ya0ludGVyZmFjZXNcbj0gZnVuY3Rpb24gKCkgeyByZXR1cm4ge30gfTtcblxuZXhwb3J0cy5hcmNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ2phdmFzY3JpcHQnIH07XG5cbmV4cG9ydHMucGxhdGZvcm0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnYnJvd3NlcicgfTtcblxuZXhwb3J0cy50bXBkaXIgPSBleHBvcnRzLnRtcERpciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJy90bXAnO1xufTtcblxuZXhwb3J0cy5FT0wgPSAnXFxuJztcblxuZXhwb3J0cy5ob21lZGlyID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gJy8nXG59O1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3RzL2xvcmVtLmQudHNcIiAvPlxuXG4vKipcbiAqIExvcmVtIGlwc3VtIGdlbmVyYXRvci5cbiAqXG4gKiBJbiBwdWJsaXNoaW5nIGFuZCBncmFwaGljIGRlc2lnbiwgbG9yZW0gaXBzdW0gaXMgYSBwbGFjZWhvbGRlciB0ZXh0IGNvbW1vbmx5XG4gKiB1c2VkIHRvIGRlbW9uc3RyYXRlIHRoZSB2aXN1YWwgZm9ybSBvZiBhIGRvY3VtZW50IG9yIGEgdHlwZWZhY2Ugd2l0aG91dFxuICogcmVseWluZyBvbiBtZWFuaW5nZnVsIGNvbnRlbnQuXG4gKlxuICogVGhlIGBsb3JlbWAgbW9kdWxlIHByb3ZpZGVzIGEgZ2VuZXJpYyBhY2Nlc3MgdG8gZ2VuZXJhdGluZyB0aGUgbG9yZW0gaXBzdW0gdGV4dFxuICogZnJvbSBpdHMgdmVyeSBvcmlnaW5hbCB0ZXh0OlxuICpcbiAqICAgICBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZFxuICogICAgIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLiBVdCBlbmltIGFkIG1pbmltXG4gKiAgICAgdmVuaWFtLCBxdWlzIG5vc3RydWQgZXhlcmNpdGF0aW9uIHVsbGFtY28gbGFib3JpcyBuaXNpIHV0IGFsaXF1aXAgZXggZWFcbiAqICAgICBjb21tb2RvIGNvbnNlcXVhdC4gRHVpcyBhdXRlIGlydXJlIGRvbG9yIGluIHJlcHJlaGVuZGVyaXQgaW4gdm9sdXB0YXRlIHZlbGl0XG4gKiAgICAgZXNzZSBjaWxsdW0gZG9sb3JlIGV1IGZ1Z2lhdCBudWxsYSBwYXJpYXR1ci4gRXhjZXB0ZXVyIHNpbnQgb2NjYWVjYXRcbiAqICAgICBjdXBpZGF0YXQgbm9uIHByb2lkZW50LCBzdW50IGluIGN1bHBhIHF1aSBvZmZpY2lhIGRlc2VydW50IG1vbGxpdCBhbmltIGlkXG4gKiAgICAgZXN0IGxhYm9ydW0uXG4gKlxuICogVXNhZ2Ugb2YgdGhlIGBsb3JlbWAgbW9kdWxlIGlzIHJhdGhlciBzaW1wbGUuIERlcGVuZGluZyBvbiB5b3VyIG5lZWRzLCB0aGVcbiAqIGBsb3JlbWAgbW9kdWxlIHByb3ZpZGVzIGdlbmVyYXRpb24gb2YgKip3b3JkKipzLCAqKnNlbnRlbmNlKipzLCBhbmRcbiAqICoqcGFyYWdyYXBoKipzLlxuICpcbiAqIEdldCBSYW5kb20gV29yZHNcbiAqIC0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBUaGUgYGxvcmVtYCBtb2R1bGUgcHJvdmlkZXMgdHdvIGRpZmZlcmVudCB3YXlzIGZvciBnZXR0aW5nIHJhbmRvbSB3b3Jkcy5cbiAqXG4gKiAxLiBgd29yZGAgLS0gZ2VuZXJhdGUgYSBsaXN0IG9mIHJhbmRvbSB3b3Jkc1xuICpcbiAqICAgIGBgYGphdmFzY3JpcHRcbiAqICAgIGZ1bmN0aW9uIHdvcmQ8VCBleHRlbmRzIHN0cmluZyB8IFN0cmluZ0Z1bmN0aW9uPihcbiAqICAgICAgICBjb3VudD86IG51bWJlciB8IHVuZGVmaW5lZCxcbiAqICAgICAgICBmdW5jPzogKFQgZXh0ZW5kcyBzdHJpbmcgPyBzdHJpbmcgOiBTdHJpbmdGdW5jdGlvbikgfCB1bmRlZmluZWQsXG4gKiAgICAgICAgYXJncz86IGFueVtdIHwgdW5kZWZpbmVkXG4gKiAgICApOiBJbmZpbml0ZUl0ZXJhdG9yPHN0cmluZz5cbiAqICAgIGBgYFxuICpcbiAqIDIuIGBnZXRfd29yZGAgLS0gcmV0dXJuIHJhbmRvbSB3b3Jkc1xuICpcbiAqICAgIGBgYGphdmFzY3JpcHRcbiAqICAgIGZ1bmN0aW9uIGdldF93b3JkPEsgZXh0ZW5kcyBudW1iZXIgfCBbbnVtYmVyLCBudW1iZXJdLFxuICogICAgICAgICAgICAgICAgICAgICAgVCBleHRlbmRzIHN0cmluZyB8IFN0cmluZ0Z1bmN0aW9uPihcbiAqICAgICAgICBjb3VudD86IChLIGV4dGVuZHMgbnVtYmVyID8gbnVtYmVyIDogW251bWJlciwgbnVtYmVyXSkgfCB1bmRlZmluZWQsXG4gKiAgICAgICAgc2VwPzogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICogICAgICAgIGZ1bmM/OiAoVCBleHRlbmRzIHN0cmluZyA/IHN0cmluZyA6IFN0cmluZ0Z1bmN0aW9uKSB8IHVuZGVmaW5lZCxcbiAqICAgICAgICBhcmdzPzogYW55W10gfCB1bmRlZmluZWRcbiAqICAgICk6IHN0cmluZ1xuICogICAgYGBgXG4gKlxuICogR2V0IFJhbmRvbSBTZW50ZW5jZXNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogVGhlIGBsb3JlbWAgbW9kdWxlIHByb3ZpZGVzIHR3byBkaWZmZXJlbnQgd2F5cyBmb3IgZ2V0dGluZyByYW5kb20gc2VudGVuY2VzLlxuICpcbiAqIDEuIGBzZW50ZW5jZWAgLS0gZ2VuZXJhdGUgYSBsaXN0IG9mIHJhbmRvbSBzZW50ZW5jZXNcbiAqXG4gKiAgICBgYGBqYXZhc2NyaXB0XG4gKiAgICBmdW5jdGlvbiBzZW50ZW5jZShcbiAqICAgICAgICBjb3VudD86IG51bWJlciB8IHVuZGVmaW5lZCxcbiAqICAgICAgICBjb21tYT86IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWQsXG4gKiAgICAgICAgd29yZF9yYW5nZT86IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWRcbiAqICAgICk6IEluZmluaXRlSXRlcmF0b3I8c3RyaW5nPlxuICogICAgYGBgXG4gKlxuICogMi4gYGdldF9zZW50ZW5jZWAgLS0gcmV0dXJuIHJhbmRvbSBzZW50ZW5jZXNcbiAqXG4gKiAgICBgYGBqYXZhc2NyaXB0XG4gKiAgICBmdW5jdGlvbiBnZXRfc2VudGVuY2U8SyBleHRlbmRzIG51bWJlciB8IFtudW1iZXIsIG51bWJlcl0+KFxuICogICAgICAgIGNvdW50PzogKEsgZXh0ZW5kcyBudW1iZXIgPyBudW1iZXIgOiBbbnVtYmVyLCBudW1iZXJdKSB8IHVuZGVmaW5lZCxcbiAqICAgICAgICBzZXA/OiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gKiAgICAgICAgY29tbWE/OiBbbnVtYmVyLCBudW1iZXJdIHwgdW5kZWZpbmVkLFxuICogICAgICAgIHdvcmRfcmFuZ2U/OiBbbnVtYmVyLCBudW1iZXJdIHwgdW5kZWZpbmVkXG4gKiAgICApOiBzdHJpbmdcbiAqICAgIGBgYFxuICpcbiAqIEdldCBSYW5kb20gUGFyYWdyYXBoc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogVGhlIGBsb3JlbWAgbW9kdWxlIHByb3ZpZGVzIHR3byBkaWZmZXJlbnQgd2F5cyBmb3IgZ2V0dGluZyByYW5kb20gcGFyYWdyYXBocy5cbiAqXG4gKiAxLiBgcGFyYWdyYXBoYCAtLSBnZW5lcmF0ZSBhIGxpc3Qgb2YgcmFuZG9tIHBhcmFncmFwaHNcbiAqXG4gKiAgICBgYGBqYXZhc2NyaXB0XG4gKiAgICBmdW5jdGlvbiBwYXJhZ3JhcGgoXG4gKiAgICAgICAgY291bnQ/OiBudW1iZXIgfCB1bmRlZmluZWQsXG4gKiAgICAgICAgY29tbWE/OiBbbnVtYmVyLCBudW1iZXJdIHwgdW5kZWZpbmVkLFxuICogICAgICAgIHdvcmRfcmFuZ2U/OiBbbnVtYmVyLCBudW1iZXJdIHwgdW5kZWZpbmVkLFxuICogICAgICAgIHNlbnRlbmNlX3JhbmdlPzogW251bWJlciwgbnVtYmVyXSB8IHVuZGVmaW5lZFxuICogICAgKTogSW5maW5pdGVJdGVyYXRvcjxzdHJpbmc+XG4gKiAgICBgYGBcbiAqXG4gKiAyLiBgZ2V0X3BhcmFncmFwaGAgLS0gcmV0dXJuIHJhbmRvbSBwYXJhZ3JhcGhzXG4gKlxuICogICAgYGBgamF2YXNjcmlwdFxuICogICAgZnVuY3Rpb24gZ2V0X3BhcmFncmFwaDxLIGV4dGVuZHMgbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXT4oXG4gKiAgICAgICAgY291bnQ/OiAoSyBleHRlbmRzIG51bWJlciA/IG51bWJlciA6IFtudW1iZXIsIG51bWJlcl0pIHwgdW5kZWZpbmVkLFxuICogICAgICAgIHNlcD86IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAqICAgICAgICBjb21tYT86IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWQsXG4gKiAgICAgICAgd29yZF9yYW5nZT86IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWQsXG4gKiAgICAgICAgc2VudGVuY2VfcmFuZ2U/OiBbLi4uXSB8IHVuZGVmaW5lZFxuICogICAgKTogc3RyaW5nXG4gKiAgICBgYGBcbiAqXG4gKiBDdXN0b21pc2UgV29yZCBQb29sXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogSWYgd2FudGVkLCB0aGUgYGxvcmVtYCBtb2R1bGUgYWxzbyBwcm92aWRlcyBhbiBpbnRlcmZhY2UgdG8gY3VzdG9taXNlIHRoZSB3b3JkXG4gKiBwb29sIGFzIHlvdSB3aXNoLlxuICpcbiAqIDEuIGBzZXRfcG9vbGAgLS0gY3VzdG9taXNlIHJhbmRvbSB3b3JkIHBvb2xcbiAqXG4gKiAgICBgYGBqYXZhc2NyaXB0XG4gKiAgICBmdW5jdGlvbiBzZXRfcG9vbChwb29sOiBzdHJpbmdbXSk6IHZvaWRcbiAqICAgIGBgYFxuICpcbiAqIEBtb2R1bGUgbG9yZW1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVPTCB9IGZyb20gJ29zJztcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICcuL3JhbmRvbSc7XG5pbXBvcnQgeyBJbmZpbml0ZUl0ZXJhdG9yIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqIE9yaWdpbmFsIGxvcmVtIGlwc3VtIHRleHQgcG9vbC4gKi9cbmxldCBfVEVYVDogc3RyaW5nW10gPSBbXG4gICAgJ2FkJywgJ2FkaXBpc2NpbmcnLCAnYWxpcXVhJywgJ2FsaXF1aXAnLCAnYW1ldCcsICdhbmltJywgJ2F1dGUnLCAnY2lsbHVtJywgJ2NvbW1vZG8nLFxuICAgICdjb25zZWN0ZXR1cicsICdjb25zZXF1YXQnLCAnY3VscGEnLCAnY3VwaWRhdGF0JywgJ2Rlc2VydW50JywgJ2RvJywgJ2RvbG9yJywgJ2RvbG9yZScsXG4gICAgJ2R1aXMnLCAnZWEnLCAnZWl1c21vZCcsICdlbGl0JywgJ2VuaW0nLCAnZXNzZScsICdlc3QnLCAnZXQnLCAnZXUnLCAnZXgnLCAnZXhjZXB0ZXVyJyxcbiAgICAnZXhlcmNpdGF0aW9uJywgJ2Z1Z2lhdCcsICdpZCcsICdpbicsICdpbmNpZGlkdW50JywgJ2lwc3VtJywgJ2lydXJlJywgJ2xhYm9yZScsICdsYWJvcmlzJyxcbiAgICAnbGFib3J1bScsICdsb3JlbScsICdtYWduYScsICdtaW5pbScsICdtb2xsaXQnLCAnbmlzaScsICdub24nLCAnbm9zdHJ1ZCcsICdudWxsYScsXG4gICAgJ29jY2FlY2F0JywgJ29mZmljaWEnLCAncGFyaWF0dXInLCAncHJvaWRlbnQnLCAncXVpJywgJ3F1aXMnLCAncmVwcmVoZW5kZXJpdCcsICdzZWQnLFxuICAgICdzaW50JywgJ3NpdCcsICdzdW50JywgJ3RlbXBvcicsICd1bGxhbWNvJywgJ3V0JywgJ3ZlbGl0JywgJ3ZlbmlhbScsICd2b2x1cHRhdGUnXG5dXG5cbi8qKlxuICogR2VuZXJhdGUgd29yZCBwb29sLlxuICpcbiAqIC0gQXJnczpcbiAqXG4gKiAgICogYGR1cGVgIC0tIGBudW1iZXJgXG4gKlxuICogICAgIER1cGxpY2F0aW9uIHRvIGdlbmVyYXRlIHRoZSB3b3JkIHBvb2wuXG4gKlxuICogICAgICpkZWZhdWx0KjogYDFgXG4gKlxuICogLSBSZXR1cm5zXG4gKlxuICogICAqIGBTdHJpbmdJdGVyYXRvcmAgLS0gYW4gaW5maW5pdGUgbG9vcCB3b3JkIHBvb2xcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW2R1cGVdXG4gKiBAcmV0dXJucyB7U3RyaW5nSXRlcmF0b3J9XG4gKi9cbmZ1bmN0aW9uIF9nZW5fcG9vbChkdXBlOiBudW1iZXIgPSAxKTogU3RyaW5nSXRlcmF0b3Ige1xuICAgIHZhciBwb29sOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkdXBlOyBpKyspIHtcbiAgICAgICAgcG9vbC5wdXNoKC4uLl9URVhUKTtcbiAgICB9XG4gICAgcmFuZG9tLnNodWZmbGUocG9vbCk7XG5cbiAgICByZXR1cm4gbmV3IEluZmluaXRlSXRlcmF0b3IocG9vbCk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgcmFuZG9tIHdvcmQuXG4gKlxuICogLSBBcmdzOlxuICpcbiAqICAgKiBgcG9vbGAgLS0gYFN0cmluZ0l0ZXJhdG9yYFxuICpcbiAqICAgICBXb3JkIHBvb2wsIHJldHVybmVkIGJ5IGBfZ2VuX3Bvb2xgLlxuICpcbiAqICAgKiBgZnVuY2AgLS0gYFQgZXh0ZW5kcyBzdHJpbmcgPyBzdHJpbmcgOiBTdHJpbmdGdW5jdGlvbmBcbiAqXG4gKiAgICAgRmlsdGVyIGZ1bmN0aW9uLiBJdCBjYW4gYmUgYW4gYXR0cmlidXRlIG5hbWUgb2YgYFN0cmluZ2AsIG9yIGEgY3VzdG9taXNlZFxuICogICAgIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIG9yaWdpbmFsIGBTdHJpbmdgIGFuZCByZXR1cm5zIHRoZSBtb2RpZmllZCBgU3RyaW5nYC5cbiAqXG4gKiAgICAgKmRlZmF1bHQqOiBgdW5kZWZpbmVkYFxuICpcbiAqICAgKiBgYXJnc2AgLS0gYGFueVtdYFxuICpcbiAqICAgICBBZGRpdGlvbmFsIGFyZ3VtZW50cyBmb3IgYGZ1bmNgLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGBbXWBcbiAqXG4gKiAtIFJldHVybnM6XG4gKlxuICogICAqIGBzdHJpbmdgIC0tIHJhbmRvbSB3b3JkXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7U3RyaW5nSXRlcmF0b3J9IHBvb2xcbiAqIEBwYXJhbSB7VCBleHRlbmRzIHN0cmluZyA/IHN0cmluZyA6IFN0cmluZ0Z1bmN0aW9ufSBbZnVuY11cbiAqIEBwYXJhbSB7YW55W119IFthcmdzXVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gX2dlbl93b3JkKFxuICAgIHBvb2w6IFN0cmluZ0l0ZXJhdG9yLFxuICAgIGZ1bmM/OiBzdHJpbmcgfCBTdHJpbmdGdW5jdGlvbixcbiAgICBhcmdzOiBhbnlbXSA9IFtdXG4pOiBzdHJpbmcge1xuICAgIHZhciB0ZXh0ID0gcG9vbC5uZXh0KCkudmFsdWU7XG4gICAgaWYgKGZ1bmMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgdGV4dCA9IHRleHRbZnVuY10oLi4uYXJncyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRleHQgPSBmdW5jKHRleHQsIC4uLmFyZ3MpO1xuICAgIHJldHVybiB0ZXh0O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIHJhbmRvbSBzZW50ZW5jZS5cbiAqXG4gKiAtIEFyZ3M6XG4gKlxuICogICAqIGBwb29sYCAtLSBgU3RyaW5nSXRlcmF0b3JgXG4gKlxuICogICAgIFdvcmQgcG9vbCwgcmV0dXJuZWQgYnkgYF9nZW5fcG9vbGAuXG4gKlxuICogICAqIGBjb21tYWAgLS0gYFtudW1iZXIsIG51bWJlcl1gXG4gKlxuICogICAgIFJhbmRvbSByYW5nZSBmb3IgbnVtYmVyIG9mIGNvbW1hcy4gVGhlIGZ1bmN0aW9uIHdpbGwgdXNlXG4gKiAgICAgYHJhbmRvbS5yYW5kaW50YCB0byBjaG9vc2UgYSByYW5kb20gaW50ZWdlciBhcyB0aGUgbnVtYmVyIG9mIGNvbW1hcy5cbiAqXG4gKiAgICAgKmRlZmF1bHQqOiBgWzAsIDJdYFxuICpcbiAqICAgKiBgd29yZF9yYW5nZWAgLS0gYFtudW1iZXIsIG51bWJlcl1gXG4gKlxuICogICAgIFJhbmRvbSByYW5nZSBmb3IgbnVtYmVyIG9mIHdvcmRzIGluIGVhY2ggc2VudGVuY2UuIFRoZSBmdW5jdGlvbiB3aWxsXG4gKiAgICAgdXNlIGByYW5kb20ucmFuZGludGAgdG8gY2hvb3NlIGEgcmFuZG9tIGludGVnZXIgYXMgdGhlIG51bWJlciBvZiB3b3Jkcy5cbiAqXG4gKiAgICAgKmRlZmF1bHQqOiBgWzQsIDhdYFxuICpcbiAqIC0gUmV0dXJuczpcbiAqXG4gKiAgICogYHN0cmluZ2AgLS0gcmFuZG9tIHNlbnRlbmNlXG4gKlxuICogQHBhcmFtIHtTdHJpbmdJdGVyYXRvcn0gcG9vbFxuICogQHBhcmFtIHtOdW1iZXJUdXBsZX0gY29tbWFcbiAqIEBwYXJhbSB7TnVtYmVyVHVwbGV9IHdvcmRfcmFuZ2VcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIF9nZW5fc2VudGVuY2UoXG4gICAgcG9vbDogU3RyaW5nSXRlcmF0b3IsXG4gICAgY29tbWE6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgd29yZF9yYW5nZTogW251bWJlciwgbnVtYmVyXVxuKTogc3RyaW5nIHtcbiAgICB2YXIgdGV4dCA9IF9nZW5fd29yZChwb29sLCAnY2FwaXRhbGl6ZScpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZG9tLnJhbmRpbnQoLi4ud29yZF9yYW5nZSkgLSAxOyBpKyspXG4gICAgICAgIHRleHQgKz0gJyAnICsgX2dlbl93b3JkKHBvb2wpO1xuXG4gICAgdmFyIGluY2x1ZGVfY29tbWE6IGJvb2xlYW47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5kb20ucmFuZGludCguLi5jb21tYSk7IGkrKykge1xuICAgICAgICBpbmNsdWRlX2NvbW1hID0gcmFuZG9tLmNob2ljZShbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgICAgaWYgKGluY2x1ZGVfY29tbWEpIHtcbiAgICAgICAgICAgIHRleHQgKz0gJywnXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmRvbS5yYW5kaW50KC4uLndvcmRfcmFuZ2UpIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgIHRleHQgKz0gJyAnICsgX2dlbl93b3JkKHBvb2wpO1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gdGV4dCArICcuJztcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSByYW5kb20gcGFyYWdyYXBoLlxuICpcbiAqIC0gQXJnczpcbiAqXG4gKiAgICogYHBvb2xgIC0tIGBTdHJpbmdJdGVyYXRvcmBcbiAqXG4gKiAgICAgV29yZCBwb29sLCByZXR1cm5lZCBieSBgX2dlbl9wb29sYC5cbiAqXG4gKiAgICogYGNvbW1hYCAtLSBgW251bWJlciwgbnVtYmVyXWBcbiAqXG4gKiAgICAgUmFuZG9tIHJhbmdlIGZvciBudW1iZXIgb2YgY29tbWFzLiBUaGUgZnVuY3Rpb24gd2lsbCB1c2VcbiAqICAgICBgcmFuZG9tLnJhbmRpbnRgIHRvIGNob29zZSBhIHJhbmRvbSBpbnRlZ2VyIGFzIHRoZSBudW1iZXIgb2YgY29tbWFzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGBbMCwgMl1gXG4gKlxuICogICAqIGB3b3JkX3JhbmdlYCAtLSBgW251bWJlciwgbnVtYmVyXWBcbiAqXG4gKiAgICAgUmFuZG9tIHJhbmdlIGZvciBudW1iZXIgb2Ygd29yZHMgaW4gZWFjaCBzZW50ZW5jZS4gVGhlIGZ1bmN0aW9uIHdpbGxcbiAqICAgICB1c2UgYHJhbmRvbS5yYW5kaW50YCB0byBjaG9vc2UgYSByYW5kb20gaW50ZWdlciBhcyB0aGUgbnVtYmVyIG9mIHdvcmRzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGBbNCwgOF1gXG4gKlxuICogICAqIGBzZW50ZW5jZV9yYW5nZWAgLS0gYFtudW1iZXIsIG51bWJlcl1gXG4gKlxuICogICAgIFJhbmRvbSByYW5nZSBmb3IgbnVtYmVyIG9mIHNlbnRlbmNlcyBpbiBlYWNoIHBhcmFncmFwaC4gVGhlIGZ1bmN0aW9uXG4gKiAgICAgd2lsbCB1c2UgYHJhbmRvbS5yYW5kaW50YCB0byBjaG9vc2UgYSByYW5kb20gaW50ZWdlciBhcyB0aGUgbnVtYmVyIG9mXG4gKiAgICAgc2VudGVuY2VzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGBbNSwgMV0pYFxuICpcbiAqIC0gUmV0dXJuczpcbiAqXG4gKiAgICogYHN0cmAgLS0gcmFuZG9tIHBhcmFncmFwaFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nSXRlcmF0b3J9IHBvb2xcbiAqIEBwYXJhbSB7TnVtYmVyVHVwbGV9IGNvbW1hXG4gKiBAcGFyYW0ge051bWJlclR1cGxlfSB3b3JkX3JhbmdlXG4gKiBAcGFyYW0ge051bWJlclR1cGxlfSBzZW50ZW5jZV9yYW5nZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gX2dlbl9wYXJhZ3JhcGgoXG4gICAgcG9vbDogU3RyaW5nSXRlcmF0b3IsXG4gICAgY29tbWE6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgd29yZF9yYW5nZTogW251bWJlciwgbnVtYmVyXSxcbiAgICBzZW50ZW5jZV9yYW5nZTogW251bWJlciwgbnVtYmVyXVxuKTogc3RyaW5nIHtcbiAgICB2YXIgdGV4dCA9IF9nZW5fc2VudGVuY2UocG9vbCwgY29tbWEsIHdvcmRfcmFuZ2UpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZG9tLnJhbmRpbnQoLi4uc2VudGVuY2VfcmFuZ2UpIC0gMTsgaSsrKVxuICAgICAgICB0ZXh0ICs9ICcgJyArIF9nZW5fc2VudGVuY2UocG9vbCwgY29tbWEsIHdvcmRfcmFuZ2UpO1xuICAgIHJldHVybiB0ZXh0O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgbGlzdCBvZiByYW5kb20gd29yZHMuXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogPiB3b3JkKDMpXG4gKiBJbmZpbml0ZUl0ZXJhdG9yIHtcbiAqICAgaXRlbXM6IFsgJ2RvbG9yZScsICdlc3NlJywgJ2R1aXMnIF0sXG4gKiAgIHBvaW50ZXI6IDAsXG4gKiAgIGxlbmd0aDogM1xuICogfVxuICogPiB3b3JkKDMsICdjYXBpdGFsaXplJylcbiAqIEluZmluaXRlSXRlcmF0b3Ige1xuICogICBpdGVtczogWyAnVWxsYW1jbycsICdBZGlwaXNjaW5nJywgJ0NvbnNlY3RldHVyJyBdLFxuICogICBwb2ludGVyOiAwLFxuICogICBsZW5ndGg6IDNcbiAqIH1cbiAqID4gd29yZCgzLCAocykgPT4gcy50b1VwcGVyQ2FzZSgpKVxuICogSW5maW5pdGVJdGVyYXRvciB7XG4gKiAgIGl0ZW1zOiBbICdRVUlTJywgJ0FMSVFVQScsICdDSUxMVU0nIF0sXG4gKiAgIHBvaW50ZXI6IDAsXG4gKiAgIGxlbmd0aDogM1xuICogfVxuICogYGBgXG4gKlxuICogLSBBcmdzOlxuICpcbiAqICAgKiBgY291bnRgIC0tIGBudW1iZXJgXG4gKlxuICogICAgIE51bWJlciBvZiBub24tcmVwZWF0ZWQgcmFuZG9tIHdvcmRzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGAxYFxuICpcbiAqICAgKiBgZnVuY2AgLS0gYE9wdGlvbmFsW1VuaW9uW3N0ciwgQ2FsbGFibGVbW3N0cl0sIHN0cl1dXWBcbiAqXG4gKiAgICAgRmlsdGVyIGZ1bmN0aW9uLiBJdCBjYW4gYmUgYW4gYXR0cmlidXRlIG5hbWUgb2YgYHN0cmAsIG9yIGEgY3VzdG9taXNlZFxuICogICAgIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIG9yaWdpbmFsIGBzdHJgIGFuZCByZXR1cm5zIHRoZSBtb2RpZmllZCBgc3RyYC5cbiAqXG4gKiAgICAgKmRlZmF1bHQqOiBgTm9uZWBcbiAqXG4gKiAgICogYGFyZ3NgIC0tIGBUdXBsZVtzdHJdYFxuICpcbiAqICAgICBBZGRpdGlvbmFsIHBvc2l0aW9uYWwgYXJndW1lbnRzIGZvciBgZnVuY2AuXG4gKlxuICogICAgICpkZWZhdWx0KjogYCgpYFxuICpcbiAqICAgKiBga3dhcmdzYCAtLSBgRGljdFtzdHIsIEFueV1gXG4gKlxuICogICAgIEFkZGl0aW9uYWwga2V5d29yZCBhcmd1bWVudHMgZm9yIGBmdW5jYC5cbiAqXG4gKiAgICAgKmRlZmF1bHQqOiBge31gXG4gKlxuICogLSBSZXR1cm5zOlxuICpcbiAqICAgKiBgU3RyaW5nSXRlcmF0b3JgIC0tIGluZGVmaW5pdGUgcmFuZG9tIHdvcmRzIGdlbmVyYXRvclxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvdW50XVxuICogQHBhcmFtIHtUIGV4dGVuZHMgc3RyaW5nID8gc3RyaW5nIDogU3RyaW5nRnVuY3Rpb259IFtmdW5jXVxuICogQHBhcmFtIHthbnlbXX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7U3RyaW5nSXRlcmF0b3J9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3b3JkKFxuICAgIGNvdW50OiBudW1iZXIgPSAxLFxuICAgIGZ1bmM/OiBzdHJpbmcgfCBTdHJpbmdGdW5jdGlvbixcbiAgICBhcmdzOiBhbnlbXSA9IFtdXG4pOiBTdHJpbmdJdGVyYXRvciB7XG4gICAgdmFyIHBvb2wgPSBfZ2VuX3Bvb2woY291bnQpO1xuICAgIHZhciBsaXN0OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKVxuICAgICAgICBsaXN0LnB1c2goX2dlbl93b3JkKHBvb2wsIGZ1bmMsIGFyZ3MpKTtcbiAgICByZXR1cm4gbmV3IEluZmluaXRlSXRlcmF0b3IobGlzdCk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSBsaXN0IG9mIHJhbmRvbSBzZW50ZW5jZXMuXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogPiBzZW50ZW5jZSgpXG4gKiBJbmZpbml0ZUl0ZXJhdG9yIHtcbiAqICAgaXRlbXM6IFsgJ0FuaW0gcXVpcyBpZCBldCBhZGlwaXNjaW5nIG51bGxhLicgXSxcbiAqICAgcG9pbnRlcjogMCxcbiAqICAgbGVuZ3RoOiAxXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAtIEFyZ3M6XG4gKlxuICogICAqIGBjb3VudGAgLS0gYG51bWJlcmBcbiAqXG4gKiAgICAgTnVtYmVyIG9mIG5vbi1yZXBlYXRlZCByYW5kb20gc2VudGVuY2VzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGAxYFxuICpcbiAqICAgKiBgY29tbWFgIC0tIGBbbnVtYmVyLCBudW1iZXJdYFxuICpcbiAqICAgICBSYW5kb20gcmFuZ2UgZm9yIG51bWJlciBvZiBjb21tYXMuIFRoZSBmdW5jdGlvbiB3aWxsIHVzZVxuICogICAgIGByYW5kb20ucmFuZGludGAgdG8gY2hvb3NlIGEgcmFuZG9tIGludGVnZXIgYXMgdGhlIG51bWJlciBvZiBjb21tYXMuXG4gKlxuICogICAgICpkZWZhdWx0KjogYFswLCAyXWBcbiAqXG4gKiAgICogYHdvcmRfcmFuZ2VgIC0tIGBbbnVtYmVyLCBudW1iZXJdYFxuICpcbiAqICAgICBSYW5kb20gcmFuZ2UgZm9yIG51bWJlciBvZiB3b3JkcyBpbiBlYWNoIHNlbnRlbmNlLiBUaGUgZnVuY3Rpb24gd2lsbFxuICogICAgIHVzZSBgcmFuZG9tLnJhbmRpbnRgIHRvIGNob29zZSBhIHJhbmRvbSBpbnRlZ2VyIGFzIHRoZSBudW1iZXIgb2Ygd29yZHMuXG4gKlxuICogICAgICpkZWZhdWx0KjogYFs0LCA4XWBcbiAqXG4gKiAtIFJldHVybnM6XG4gKlxuICogICAqIGBTdHJpbmdJdGVyYXRvcmAgLS0gaW5kZWZpbml0ZSByYW5kb20gc2VudGVuY2UgZ2VuZXJhdG9yXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb3VudF1cbiAqIEBwYXJhbSB7TnVtYmVyVHVwbGV9IFtjb21tYV1cbiAqIEBwYXJhbSB7TnVtYmVyVHVwbGV9IFt3b3JkX3JhbmdlXVxuICogQHJldHVybnMge1N0cmluZ0l0ZXJhdG9yfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VudGVuY2UoXG4gICAgY291bnQ6IG51bWJlciA9IDEsXG4gICAgY29tbWE6IFtudW1iZXIsIG51bWJlcl0gPSBbMCwgMl0sXG4gICAgd29yZF9yYW5nZTogW251bWJlciwgbnVtYmVyXSA9IFs0LCA4XVxuKTogU3RyaW5nSXRlcmF0b3Ige1xuICAgIHZhciBwb29sID0gX2dlbl9wb29sKGNvdW50KTtcbiAgICB2YXIgbGlzdDogc3RyaW5nW10gPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKylcbiAgICAgICAgbGlzdC5wdXNoKF9nZW5fc2VudGVuY2UocG9vbCwgY29tbWEsIHdvcmRfcmFuZ2UpKTtcbiAgICByZXR1cm4gbmV3IEluZmluaXRlSXRlcmF0b3IobGlzdCk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSBsaXN0IG9mIHJhbmRvbSBwYXJhZ3JhcGhzLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqID4gcGFyYWdyYXBoKClcbiAqIEluZmluaXRlSXRlcmF0b3Ige1xuICogICBpdGVtczogW1xuICogICAgICdUZW1wb3IgbWluaW0gbW9sbGl0IGRlc2VydW50IGRvLiBFdSBleGVyY2l0YXRpb24gZXQgcmVwcmVoZW5kZXJpdCwgdmVuaWFtIGFkIHByb2lkZW50LiBRdWlzIGxvcmVtIGN1cGlkYXRhdCBzaXQgZnVnaWF0LiBTZWQgY2lsbHVtIHBhcmlhdHVyIGF1dGUgaXJ1cmUgbWFnbmEgZWEuIENvbW1vZG8gdm9sdXB0YXRlIHVsbGFtY28gc2ludCBhbGlxdWEgaW4sIGNvbnNlcXVhdCBxdWkgb2ZmaWNpYSBlc3NlIGR1aXMuJ1xuICogICBdLFxuICogICBwb2ludGVyOiAwLFxuICogICBsZW5ndGg6IDFcbiAqIH1cbiAqIGBgYFxuICpcbiAqIC0gQXJnczpcbiAqXG4gKiAgICogYGNvdW50YCAtLSBgaW50YFxuICpcbiAqICAgICBOdW1iZXIgb2Ygbm9uLXJlcGVhdGVkIHJhbmRvbSBwYXJhZ3JhcGhzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGAxYFxuICpcbiAqICAgKiBgY29tbWFgIC0tIGBbbnVtYmVyLCBudW1iZXJdYFxuICpcbiAqICAgICBSYW5kb20gcmFuZ2UgZm9yIG51bWJlciBvZiBjb21tYXMuIFRoZSBmdW5jdGlvbiB3aWxsIHVzZVxuICogICAgIGByYW5kb20ucmFuZGludGAgdG8gY2hvb3NlIGEgcmFuZG9tIGludGVnZXIgYXMgdGhlIG51bWJlciBvZiBjb21tYXMuXG4gKlxuICogICAgICpkZWZhdWx0KjogYFswLCAyXWBcbiAqXG4gKiAgICogYHdvcmRfcmFuZ2VgIC0tIGBbbnVtYmVyLCBudW1iZXJdYFxuICpcbiAqICAgICBSYW5kb20gcmFuZ2UgZm9yIG51bWJlciBvZiB3b3JkcyBpbiBlYWNoIHNlbnRlbmNlLiBUaGUgZnVuY3Rpb24gd2lsbFxuICogICAgIHVzZSBgcmFuZG9tLnJhbmRpbnRgIHRvIGNob29zZSBhIHJhbmRvbSBpbnRlZ2VyIGFzIHRoZSBudW1iZXIgb2Ygd29yZHMuXG4gKlxuICogICAgICpkZWZhdWx0KjogYFs0LCA4XWBcbiAqXG4gKiAgICogYHNlbnRlbmNlX3JhbmdlYCAtLSBgW251bWJlciwgbnVtYmVyXWBcbiAqXG4gKiAgICAgUmFuZG9tIHJhbmdlIGZvciBudW1iZXIgb2Ygc2VudGVuY2VzIGluIGVhY2ggcGFyYWdyYXBoLiBUaGUgZnVuY3Rpb25cbiAqICAgICB3aWxsIHVzZSBgcmFuZG9tLnJhbmRpbnRgIHRvIGNob29zZSBhIHJhbmRvbSBpbnRlZ2VyIGFzIHRoZSBudW1iZXIgb2ZcbiAqICAgICBzZW50ZW5jZXMuXG4gKlxuICogICAgICpkZWZhdWx0KjogYFs1LCAxMF1gXG4gKlxuICogLSBSZXR1cm5zOlxuICpcbiAqICAgKiBgU3RyaW5nSXRlcmF0b3JgIC0tIHJhbmRvbSBwYXJhZ3JhcGggZ2VuZXJhdG9yXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb3VudF1cbiAqIEBwYXJhbSB7TnVtYmVyVHVwbGV9IFtjb21tYV1cbiAqIEBwYXJhbSB7TnVtYmVyVHVwbGV9IFt3b3JkX3JhbmdlXVxuICogQHBhcmFtIHtOdW1iZXJUdXBsZX0gW3NlbnRlbmNlX3JhbmdlXVxuICogQHJldHVybnMge1N0cmluZ0l0ZXJhdG9yfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyYWdyYXBoKFxuICAgIGNvdW50OiBudW1iZXIgPSAxLFxuICAgIGNvbW1hOiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDJdLFxuICAgIHdvcmRfcmFuZ2U6IFtudW1iZXIsIG51bWJlcl0gPSBbNCwgOF0sXG4gICAgc2VudGVuY2VfcmFuZ2U6IFtudW1iZXIsIG51bWJlcl0gPSBbNSwgMTBdXG4pOiBTdHJpbmdJdGVyYXRvciB7XG4gICAgdmFyIHBvb2wgPSBfZ2VuX3Bvb2woY291bnQpO1xuICAgIHZhciBsaXN0OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKVxuICAgICAgICBsaXN0LnB1c2goX2dlbl9wYXJhZ3JhcGgocG9vbCwgY29tbWEsIHdvcmRfcmFuZ2UsIHNlbnRlbmNlX3JhbmdlKSk7XG4gICAgcmV0dXJuIG5ldyBJbmZpbml0ZUl0ZXJhdG9yKGxpc3QpO1xufVxuXG4vKipcbiAqIFJldHVybiByYW5kb20gd29yZHMuXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogPiBsb3JlbS5nZXRfd29yZCgzKVxuICogJ3ZlbmlhbSBtaW5pbSBzaXQnXG4gKiA+IGxvcmVtLmdldF93b3JkKDMsICcgJywgJ2NhcGl0YWxpemUnKVxuICogJ0luIE51bGxhIEVuaW0nXG4gKiA+IGxvcmVtLmdldF93b3JkKDMsICctJywgKHMpID0+IHMudG9VcHBlckNhc2UoKSlcbiAqICdPQ0NBRUNBVC1ET0xPUi1TSU5UJ1xuICogYGBgXG4gKlxuICogLSBBcmdzOlxuICpcbiAqICAgKiBgY291bnRgIC0tIGBudW1iZXIgfCBbbnVtYmVyLCBudW1iZXJdYFxuICpcbiAqICAgICBOdW1iZXIgb2YgcmFuZG9tIHdvcmRzLiBUbyBnZW5lcmF0ZSByYW5kb20gbnVtYmVyIG9mIHdvcmRzLCBzdXBwbHkgYVxuICogICAgIDItZWxlbWVudCB0dXBsZSBvZiBgbnVtYmVyYCwgdGhlIGZ1bmN0aW9uIHdpbGwgdXNlIGByYW5kb20ucmFuZGludGAgdG8gY2hvb3NlXG4gKiAgICAgYSByYW5kb20gaW50ZWdlciBhcyB0aGUgbnVtYmVyIG9mIHJhbmRvbSB3b3Jkcy5cbiAqXG4gKiAgICAgKmRlZmF1bHQqOiBgMWBcbiAqXG4gKiAgICogYHNlcGAgLS0gYHN0cmluZ2BcbiAqXG4gKiAgICAgU2VwZXJhdG9yIGJldHdlZW4gZWFjaCB3b3JkLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGAnICdgXG4gKlxuICogICAqIGBmdW5jYCAtLSBgc3RyaW5nIHwgU3RyaW5nRnVuY3Rpb25gXG4gKlxuICogICAgIEZpbHRlciBmdW5jdGlvbi4gSXQgY2FuIGJlIGEgZnVuY3Rpb24gbmFtZSBvZiBgc3RyaW5nYCwgb3IgYSBjdXN0b21pc2VkXG4gKiAgICAgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aGUgb3JpZ2luYWwgYHN0cmluZ2AgYW5kIHJldHVybnMgdGhlIG1vZGlmaWVkIGBzdHJpbmdgLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGB1bmRlZmluZWRgXG4gKlxuICogICAqIGBhcmdzYCAtLSBgYW55W11gXG4gKlxuICogICAgIEFkZGl0aW9uYWwgYXJndW1lbnRzIGZvciBgZnVuY2AuXG4gKlxuICogICAgICpkZWZhdWx0KjogYFtdYFxuICpcbiAqIC0gUmV0dXJuczpcbiAqXG4gKiAgICogYHN0cmluZ2AgLS0gcmFuZG9tIHdvcmRzXG4gKlxuICogQHRlbXBsYXRlIEtcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0sgZXh0ZW5kcyBudW1iZXIgPyBudW1iZXIgOiBOdW1iZXJUdXBsZX0gW2NvdW50XVxuICogQHBhcmFtIHtzdHJpbmd9IFtzZXBdXG4gKiBAcGFyYW0ge1QgZXh0ZW5kcyBzdHJpbmcgPyBzdHJpbmcgOiBTdHJpbmdGdW5jdGlvbn0gW2Z1bmNdXG4gKiBAcGFyYW0ge2FueVtdfSBbYXJnc11cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfd29yZChcbiAgICBjb3VudDogbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXSA9IDEsXG4gICAgc2VwOiBzdHJpbmcgPSAnICcsXG4gICAgZnVuYz86IHN0cmluZyB8IFN0cmluZ0Z1bmN0aW9uLFxuICAgIGFyZ3M6IGFueVtdID0gW11cbik6IHN0cmluZyB7XG4gICAgaWYgKHR5cGVvZiBjb3VudCA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgY291bnQgPSByYW5kb20ucmFuZGludCguLi5jb3VudCk7XG4gICAgdmFyIGl0ZXJfbGlzdCA9IHdvcmQoY291bnQsIGZ1bmMsIGFyZ3MpO1xuXG4gICAgdmFyIGxpc3Q6IHN0cmluZ1tdID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKVxuICAgICAgICBsaXN0LnB1c2goaXRlcl9saXN0Lm5leHQoKS52YWx1ZSk7XG4gICAgcmV0dXJuIGxpc3Quam9pbihzZXApO1xufVxuXG4vKipcbiAqIFJldHVybiByYW5kb20gc2VudGVuY2VzLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqID4gZ2V0X3NlbnRlbmNlKClcbiAqICdJcnVyZSBhZGlwaXNjaW5nIHJlcHJlaGVuZGVyaXQgY3VwaWRhdGF0IHNpbnQuJ1xuICogYGBgXG4gKlxuICogLSBBcmdzOlxuICpcbiAqICAgKiBgY291bnRgIC0tIGBudW1iZXIgfCBbbnVtYmVyLCBudW1iZXJdYFxuICpcbiAqICAgICBOdW1iZXIgb2YgcmFuZG9tIHNlbnRlbmNlcy4gVG8gZ2VuZXJhdGUgcmFuZG9tIG51bWJlciBvZiBzZW50ZW5jZXMsXG4gKiAgICAgc3VwcGx5IGEgMi1lbGVtZW50IHR1cGxlIG9mIGBudW1iZXJgLCB0aGUgZnVuY3Rpb24gd2lsbCB1c2VcbiAqICAgICBgcmFuZG9tLnJhbmRpbnRgIHRvIGNob29zZSBhIHJhbmRvbSBpbnRlZ2VyIGFzIHRoZSBudW1iZXIgb2YgcmFuZG9tXG4gKiAgICAgc2VudGVuY2VzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGAxYFxuICpcbiAqICAgKiBgc2VwYCAtLSBgc3RyaW5nYFxuICpcbiAqICAgICBTZXBlcmF0b3IgYmV0d2VlbiBlYWNoIHNlbnRlbmNlLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGAnICdgXG4gKlxuICogICAqIGBjb21tYWAgLS0gYFtudW1iZXIsIG51bWJlcl1gXG4gKlxuICogICAgIFJhbmRvbSByYW5nZSBmb3IgbnVtYmVyIG9mIGNvbW1hcy4gVGhlIGZ1bmN0aW9uIHdpbGwgdXNlXG4gKiAgICAgYHJhbmRvbS5yYW5kaW50YCB0byBjaG9vc2UgYSByYW5kb20gaW50ZWdlciBhcyB0aGUgbnVtYmVyIG9mIGNvbW1hcy5cbiAqXG4gKiAgICAgKmRlZmF1bHQqOiBgWzAsIDJdYFxuICpcbiAqICAgKiBgd29yZF9yYW5nZWAgLS0gYFtudW1iZXIsIG51bWJlcl1gXG4gKlxuICogICAgIFJhbmRvbSByYW5nZSBmb3IgbnVtYmVyIG9mIHdvcmRzIGluIGVhY2ggc2VudGVuY2UuIFRoZSBmdW5jdGlvbiB3aWxsXG4gKiAgICAgdXNlIGByYW5kb20ucmFuZGludGAgdG8gY2hvb3NlIGEgcmFuZG9tIGludGVnZXIgYXMgdGhlIG51bWJlciBvZiB3b3Jkcy5cbiAqXG4gKiAgICAgKmRlZmF1bHQqOiBgWzQsIDhdYFxuICpcbiAqIC0gUmV0dXJuczpcbiAqXG4gKiAgICogYHN0cmluZ2AgLS0gcmFuZG9tIHNlbnRlbmNlc1xuICpcbiAqIEB0ZW1wbGF0ZSBLXG4gKiBAcGFyYW0ge0sgZXh0ZW5kcyBudW1iZXIgPyBudW1iZXIgOiBOdW1iZXJUdXBsZX0gW2NvdW50XVxuICogQHBhcmFtIHtzdHJpbmd9IFtzZXBdXG4gKiBAcGFyYW0ge051bWJlclR1cGxlfSBbY29tbWFdXG4gKiBAcGFyYW0ge051bWJlclR1cGxlfSBbd29yZF9yYW5nZV1cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc2VudGVuY2UoXG4gICAgY291bnQ6IG51bWJlciB8IE51bWJlclR1cGxlID0gMSxcbiAgICBzZXA6IHN0cmluZyA9ICcgJyxcbiAgICBjb21tYTogTnVtYmVyVHVwbGUgPSBbMCwgMl0sXG4gICAgd29yZF9yYW5nZTogTnVtYmVyVHVwbGUgPSBbNCwgOF1cbik6IHN0cmluZyB7XG4gICAgaWYgKHR5cGVvZiBjb3VudCA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgY291bnQgPSByYW5kb20ucmFuZGludCguLi5jb3VudCk7XG4gICAgdmFyIGl0ZXJfbGlzdCA9IHNlbnRlbmNlKGNvdW50LCBjb21tYSwgd29yZF9yYW5nZSk7XG5cbiAgICB2YXIgbGlzdDogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspXG4gICAgICAgIGxpc3QucHVzaChpdGVyX2xpc3QubmV4dCgpLnZhbHVlKTtcbiAgICByZXR1cm4gbGlzdC5qb2luKHNlcCk7XG59XG5cbi8qKlxuICogUmV0dXJuIHJhbmRvbSBwYXJhZ3JhcGhzLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqID4gZ2V0X3BhcmFncmFwaCgpXG4gKiAnRXN0IHV0IG5pc2kgY29uc2VxdWF0IHJlcHJlaGVuZGVyaXQgZWxpdC4gQWxpcXVpcCBzZWQgc2ludCBleGNlcHRldXIgc3VudC4gQ3VwaWRhdGF0IG9mZmljaWEgbGFib3JlIGxvcmVtIHVsbGFtY28uIE1pbmltIGF1dGUgcHJvaWRlbnQgcXVpcyBsYWJvcnVtIGVzc2UgYW5pbSwgaW4gc2l0IGluY2lkaWR1bnQuIEFsaXF1YSBjdWxwYSBkb2xvciBtYWduYSwgcXVpIGV4IGV1IGxhYm9yaXMgZXQuIERvIGlkIGVhIGNpbGx1bSB2ZW5pYW0uIFZlbGl0IGV4ZXJjaXRhdGlvbiBkb2xvcmUgdm9sdXB0YXRlIHRlbXBvci4nXG4gKiBgYGBcbiAqXG4gKiAtIEFyZ3M6XG4gKlxuICogICAqIGBjb3VudGAgLS0gYG51bWJlciB8IFtudW1iZXIsIG51bWJlcl1gXG4gKlxuICogICAgIE51bWJlciBvZiByYW5kb20gcGFyYWdyYXBocy4gVG8gZ2VuZXJhdGUgcmFuZG9tIG51bWJlciBvZiBwYXJhZ3JhcGhzLFxuICogICAgIHN1cHBseSBhIDItZWxlbWVudCB0dXBsZSBvZiBgbnVtYmVyYCwgdGhlIGZ1bmN0aW9uIHdpbGwgdXNlXG4gKiAgICAgYHJhbmRvbS5yYW5kaW50YCB0byBjaG9vc2UgYSByYW5kb20gaW50ZWdlciBhcyB0aGUgbnVtYmVyIG9mIHJhbmRvbVxuICogICAgIHBhcmFncmFwaHMuXG4gKlxuICogICAgICpkZWZhdWx0KjogYDFgXG4gKlxuICogICAqIGBzZXBgIC0tIGBzdHJpbmdgXG4gKlxuICogICAgIFNlcGVyYXRvciBiZXR3ZWVuIGVhY2ggcGFyYWdyYXBoLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGBvcy5FT0xgIChgXFxyXFxuYCBvbiBXaW5kb3dzLCBgXFxuYCBvbiBQT1NJWClcbiAqXG4gKiAgICogYGNvbW1hYCAtLSBgW251bWJlciwgbnVtYmVyXWBcbiAqXG4gKiAgICAgUmFuZG9tIHJhbmdlIGZvciBudW1iZXIgb2YgY29tbWFzLiBUaGUgZnVuY3Rpb24gd2lsbCB1c2VcbiAqICAgICBgcmFuZG9tLnJhbmRpbnRgIHRvIGNob29zZSBhIHJhbmRvbSBpbnRlZ2VyIGFzIHRoZSBudW1iZXIgb2YgY29tbWFzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGBbMCwgMl1gXG4gKlxuICogICAqIGB3b3JkX3JhbmdlYCAtLSBgW251bWJlciwgbnVtYmVyXWBcbiAqXG4gKiAgICAgUmFuZG9tIHJhbmdlIGZvciBudW1iZXIgb2Ygd29yZHMgaW4gZWFjaCBzZW50ZW5jZS4gVGhlIGZ1bmN0aW9uIHdpbGxcbiAqICAgICB1c2UgYHJhbmRvbS5yYW5kaW50YCB0byBjaG9vc2UgYSByYW5kb20gaW50ZWdlciBhcyB0aGUgbnVtYmVyIG9mIHdvcmRzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGBbNCwgOF1gXG4gKlxuICogICAqIGBzZW50ZW5jZV9yYW5nZWAgLS0gYFtudW1iZXIsIG51bWJlcl1gXG4gKlxuICogICAgIFJhbmRvbSByYW5nZSBmb3IgbnVtYmVyIG9mIHNlbnRlbmNlcyBpbiBlYWNoIHBhcmFncmFwaC4gVGhlIGZ1bmN0aW9uXG4gKiAgICAgd2lsbCB1c2UgYHJhbmRvbS5yYW5kaW50YCB0byBjaG9vc2UgYSByYW5kb20gaW50ZWdlciBhcyB0aGUgbnVtYmVyIG9mXG4gKiAgICAgc2VudGVuY2VzLlxuICpcbiAqICAgICAqZGVmYXVsdCo6IGBbNSwgMTBdYFxuICpcbiAqIC0gUmV0dXJuczpcbiAqXG4gKiAgICogYHN0cmluZ2AgLS0gcmFuZG9tIHBhcmFncmFwaHNcbiAqXG4gKiBAdGVtcGxhdGUgS1xuICogQHBhcmFtIHtLIGV4dGVuZHMgbnVtYmVyID8gbnVtYmVyIDogTnVtYmVyVHVwbGV9IFtjb3VudF1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwXVxuICogQHBhcmFtIHtOdW1iZXJUdXBsZX0gW2NvbW1hXVxuICogQHBhcmFtIHtOdW1iZXJUdXBsZX0gW3dvcmRfcmFuZ2VdXG4gKiBAcGFyYW0ge051bWJlclR1cGxlfSBbc2VudGVuY2VfcmFuZ2VdXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3BhcmFncmFwaChcbiAgICBjb3VudDogbnVtYmVyIHwgTnVtYmVyVHVwbGUgPSAxLFxuICAgIHNlcDogc3RyaW5nID0gRU9MLFxuICAgIGNvbW1hOiBOdW1iZXJUdXBsZSA9IFswLCAyXSxcbiAgICB3b3JkX3JhbmdlOiBOdW1iZXJUdXBsZSA9IFs0LCA4XSxcbiAgICBzZW50ZW5jZV9yYW5nZTogTnVtYmVyVHVwbGUgPSBbNSwgMTBdXG4pOiBzdHJpbmcge1xuICAgIGlmICh0eXBlb2YgY291bnQgPT09IFwib2JqZWN0XCIpXG4gICAgICAgIGNvdW50ID0gcmFuZG9tLnJhbmRpbnQoLi4uY291bnQpO1xuICAgIHZhciBpdGVyX2xpc3QgPSBwYXJhZ3JhcGgoY291bnQsIGNvbW1hLCB3b3JkX3JhbmdlLCBzZW50ZW5jZV9yYW5nZSk7XG5cbiAgICB2YXIgbGlzdDogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspXG4gICAgICAgIGxpc3QucHVzaChpdGVyX2xpc3QubmV4dCgpLnZhbHVlKTtcbiAgICByZXR1cm4gbGlzdC5qb2luKHNlcCk7XG59XG5cbi8qKlxuICogQ3VzdG9taXNlIHJhbmRvbSB3b3JkIHBvb2wuXG4gKlxuICogLSBBcmdzOlxuICpcbiAqICAgKiBgcG9vbGAgLS0gYHN0cmluZ1tdYFxuICpcbiAqICAgICBMaXN0IG9mIHdvcmRzIHRvIGJlIHVzZWQgYXMgcmFuZG9tIHdvcmQgcG9vbC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwb29sXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfcG9vbChwb29sOiBzdHJpbmdbXSkge1xuICAgIF9URVhUID0gcG9vbDtcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90cy9yYW5kb20uZC50c1wiIC8+XG5cbi8qKlxuICogSmF2YVNjcmlwdCBwb3J0IG9mIHNvbWUgdXNlZnVsIGZ1bmN0aW9ucyBmcm9tIFB5dGhvbidzXG4gKiBidWlsdGluIGByYW5kb21gIG1vZHVsZS5cbiAqXG4gKiBAbW9kdWxlIHJhbmRvbVxuICogQHNlZSBtb2R1bGU6bG9yZW1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU2h1ZmZsZSBsaXN0IHggaW4gcGxhY2UsIGFuZCByZXR1cm4gTm9uZS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUW119IHhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGU8VD4oeDogVFtdKSB7XG4gICAgdmFyIHRlbXA6IGFueTtcblxuICAgIHZhciBqOiBudW1iZXI7XG4gICAgZm9yICh2YXIgaSA9IHgubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgICBqID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpKTtcblxuICAgICAgICB0ZW1wID0geFtpXTtcbiAgICAgICAgeFtpXSA9IHhbal07XG4gICAgICAgIHhbal0gPSB0ZW1wO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gcmFuZG9tIGludGVnZXIgaW4gcmFuZ2UgW2EsIGJdLCBpbmNsdWRpbmcgYm90aCBlbmQgcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gYlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRpbnQoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGIgLSBhKSkgKyBhO1xufVxuXG4vKipcbiAqIENob29zZSBhIHJhbmRvbSBlbGVtZW50IGZyb20gYSBub24tZW1wdHkgc2VxdWVuY2UuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VFtdfSBzZXFcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hvaWNlPFQ+KHNlcTogVFtdKSB7XG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogc2VxLmxlbmd0aCkpO1xuICAgIHJldHVybiBzZXFbaV07XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHMvdHlwZXMuZC50c1wiIC8+XG5cbi8qKlxuICogQ3VzdG9taXNlZCB1dGlsaXR5IHR5cGVzLlxuICpcbiAqIEBtb2R1bGUgdHlwZXNcbiAqIEBzZWUgbW9kdWxlOmxvcmVtXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIi4vcmFuZG9tXCI7XG5cbi8qKlxuICogUmV0dXJuIGEgY2FwaXRhbGl6ZWQgdmVyc2lvbiBvZiB0aGUgc3RyaW5nLlxuICpcbiAqIE1vcmUgc3BlY2lmaWNhbGx5LCBtYWtlIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaGF2ZSB1cHBlciBjYXNlIGFuZCB0aGUgcmVzdCBsb3dlclxuICogY2FzZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc1xuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY2FwaXRhbGl6ZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcy5zbGljZSgxKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBjYXBpdGFsaXplZCB2ZXJzaW9uIG9mIHRoZSBzdHJpbmcuXG4gKlxuICogTW9yZSBzcGVjaWZpY2FsbHksIG1ha2UgdGhlIGZpcnN0IGNoYXJhY3RlciBoYXZlIHVwcGVyIGNhc2UgYW5kIHRoZSByZXN0IGxvd2VyXG4gKiBjYXNlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAbWVtYmVyb2YgU3RyaW5nXG4gKi9cblN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2FwaXRhbGl6ZSh0aGlzLnRvU3RyaW5nKCkpO1xufTtcblxuLyoqXG4gKiBJbmZpbml0ZSBpdGVyYXRvci5cbiAqXG4gKiBAY2xhc3MgSW5maW5pdGVJdGVyYXRvclxuICogQGltcGxlbWVudHMge0l0ZXJhdG9yPFQ+fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGNsYXNzIEluZmluaXRlSXRlcmF0b3I8VD4gaW1wbGVtZW50cyBJdGVyYXRvcjxUPiB7XG4gICAgcHJpdmF0ZSBwb2ludGVyID0gMDtcbiAgICBwcml2YXRlIGxlbmd0aDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBgSW5maW5pdGVJdGVyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RbXX0gaXRlbXNcbiAgICAgKiBAbWVtYmVyb2YgSW5maW5pdGVJdGVyYXRvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBpdGVtczogVFtdKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gaXRlbXMubGVuZ3RoO1xuICAgIH1cblxuICAgIHB1YmxpYyBuZXh0KCk6IEl0ZXJhdG9yUmVzdWx0PFQ+IHtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlciA+PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wb2ludGVyID0gMDtcbiAgICAgICAgICAgIHJhbmRvbS5zaHVmZmxlKHRoaXMuaXRlbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuaXRlbXNbdGhpcy5wb2ludGVyKytdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmF0b3I8VD4ge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iXX0="}